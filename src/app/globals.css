@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;

  /* Theme (default) */
  --brand: #111827;
  --brand-foreground: #ffffff;
  --brand-secondary: #ffffff;
  --app-background: var(--brand-secondary);

  /* Surfaces (cards, dropdowns) */
  --surface: #ffffff;
  --surface-foreground: #171717;
  --surface-border: color-mix(in srgb, #000000 10%, transparent);

  /* Nav gradient derived from theme */
  --nav-gradient: linear-gradient(
    90deg,
    color-mix(in srgb, var(--brand) 35%, var(--app-background)) 0%,
    var(--app-background) 65%
  );

  /* Topbar (desktop/right side) */
  --topbar-bg: color-mix(in srgb, var(--brand) 22%, white);
  --topbar-foreground: #111827;

  /* Table/row highlight (selected rows) */
  --row-highlight: color-mix(in srgb, var(--brand) 12%, white);

  --sidebar-from: color-mix(in srgb, var(--brand) 96%, black);
  --sidebar-to: color-mix(in srgb, var(--brand) 35%, white);
  --sidebar-gradient: linear-gradient(180deg, var(--sidebar-from) 0%, var(--sidebar-to) 100%);
}

/* View mode */
html[data-view="DARK"] {
  color-scheme: dark;

  /* Background should be dark grey, but lighter than tables/cards */
  --app-background: #2a2a2a;
  --foreground: #ededed;

  /* Surfaces (cards/tables) are slightly darker for contrast */
  --surface: #141414;
  --surface-foreground: #ededed;
  --surface-border: color-mix(in srgb, #ffffff 8%, transparent);

  /* Top bar is a bit lighter than the page background */
  --topbar-bg: color-mix(in srgb, var(--brand) 18%, #3a3a3a);
  --topbar-foreground: #ededed;

  /* Selected row highlight should be lighter for visibility */
  --row-highlight: var(--topbar-bg);
}

/* Table header separator: always under the header row */
table thead tr {
  border-bottom: 2px solid var(--surface-border);
}

/* Pragmatic dark-mode overrides for common Tailwind utility classes used in the app */
html[data-view="DARK"] .bg-white {
  background-color: var(--surface) !important;
}

html[data-view="DARK"] .bg-zinc-50 {
  background-color: color-mix(in srgb, var(--surface) 85%, #ffffff) !important;
}

html[data-view="DARK"] .bg-zinc-50\/50 {
  background-color: color-mix(in srgb, var(--surface) 92%, #ffffff) !important;
}

html[data-view="DARK"] .hover\:bg-zinc-50:hover {
  background-color: color-mix(in srgb, var(--surface) 78%, #ffffff) !important;
}

html[data-view="DARK"] .text-zinc-900,
html[data-view="DARK"] .text-zinc-800 {
  color: var(--surface-foreground) !important;
}

html[data-view="DARK"] .text-zinc-700,
html[data-view="DARK"] .text-zinc-600 {
  color: color-mix(in srgb, var(--surface-foreground) 75%, transparent) !important;
}

html[data-view="DARK"] .text-zinc-500 {
  color: color-mix(in srgb, var(--surface-foreground) 60%, transparent) !important;
}

html[data-view="DARK"] .border-zinc-200,
html[data-view="DARK"] .border-zinc-300 {
  border-color: var(--surface-border) !important;
}

html[data-view="DARK"] .divide-zinc-100 > :not([hidden]) ~ :not([hidden]),
html[data-view="DARK"] .divide-zinc-200 > :not([hidden]) ~ :not([hidden]) {
  border-color: var(--surface-border) !important;
}

html[data-view="DARK"] .shadow-sm {
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.55) !important;
}

/* Team themes */
html[data-team-primary="RED"] {
  --brand: #dc2626;
  --brand-foreground: #ffffff;
}

html[data-team-primary="WHITE"] {
  --brand: #ffffff;
  --brand-foreground: #111827;
}

html[data-team-primary="BLACK"] {
  --brand: #111827;
  --brand-foreground: #ffffff;
}

html[data-team-primary="BLUE"] {
  --brand: #2563eb;
  --brand-foreground: #ffffff;
}

html[data-team-primary="GREEN"] {
  --brand: #16a34a;
  --brand-foreground: #ffffff;
}

/* Secondary/background */
html[data-team-secondary="WHITE"] {
  --brand-secondary: #ffffff;
  --app-background: #ffffff;
  --foreground: #171717;
  --sidebar-from: color-mix(in srgb, var(--brand) 96%, black);
  --sidebar-to: color-mix(in srgb, var(--brand) 35%, white);
}

html[data-team-secondary="BLACK"] {
  --brand-secondary: #0a0a0a;
  --app-background: #0a0a0a;
  --foreground: #ededed;
  --sidebar-from: color-mix(in srgb, var(--brand) 25%, white);
  --sidebar-to: color-mix(in srgb, var(--brand) 96%, black);
}

/* Ensure view-mode overrides win over team secondary theme (must come AFTER team theme blocks) */
html[data-view="DARK"] {
  color-scheme: dark;

  --app-background: #2a2a2a;
  --foreground: #ededed;

  --surface: #141414;
  --surface-foreground: #ededed;
  --surface-border: color-mix(in srgb, #ffffff 8%, transparent);

  --topbar-bg: color-mix(in srgb, var(--brand) 18%, #3a3a3a);
  --topbar-foreground: #ededed;

  --row-highlight: var(--topbar-bg);
}

@theme inline {
  --color-background: var(--app-background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--app-background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  overflow-x: hidden;
}
